{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/Warning.js","services/personService.js","App.js","index.js"],"names":["Persons","people","removeName","map","person","name","number","onClick","id","Filter","searchTerm","handleSearch","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","className","Warning","baseUrl","axios","get","then","response","data","newObject","post","put","delete","catch","error","console","log","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchTerm","notificationMessage","setNotificationMessage","warningMessage","setWarningMessage","useEffect","personService","initialPersons","peopleToShow","filter","toLowerCase","includes","event","preventDefault","nameObject","match","find","window","confirm","changedPerson","setTimeout","n","returnedPerson","concat","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f92668a4.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Persons = ({people, removeName}) => {\n    return (\n      <div>\n        {people.map(person =>\n          <li key={person.id}>{person.name} {person.number} <button onClick={() => removeName(person.id, person.name)}>delete</button></li>\n        )}\n      </div>\n    )\n  }\n\n\nexport default Persons","import React from 'react'\n\n\nconst Filter = ({searchTerm,handleSearch}) => {\n    return (\n      <div>\n        filter with a name: <input value={searchTerm} onChange={handleSearch}></input>\n      </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\n\nconst PersonForm = ({addName,newName,handleNameChange,newNumber,handleNumberChange}) => {\n    return (\n        <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n          <br />\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\n\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\n\n\nconst Warning = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"warning\">\n        {message}\n      </div>\n    )\n}\n\nexport default Warning","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`).catch(error => {\n    console.log('fail')\n  })\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll, create, update, remove\n}","import React, { useEffect, useState } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport Warning from './components/Warning'\nimport axios from 'axios'\nimport personService from './services/personService'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [searchTerm,setSearchTerm] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [warningMessage, setWarningMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n    console.log(newName)\n    //const names = persons.map(person => person.name)\n    //console.log(names)\n    const match = persons.find(person => person.name === newName)\n    if (match) {\n      if (window.confirm(`Do you really want to update the number of ${match.name}?`)) {\n        console.log(match)\n        const changedPerson = {...match, number: newNumber}\n        personService\n        .update(match.id,changedPerson)\n        .then (() => {\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(\n            `Number of '${match.name}' was successfully updated`\n          )\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n\n        })\n        .catch(error => {\n          setWarningMessage(\n            `Number of '${match.name}' has been deleted`\n          )\n          setTimeout(() => {\n            setWarningMessage(null)\n          }, 5000)\n          setPersons(persons.filter(n => n.id !== match.id))\n        })\n\n      }     \n    }\n    else {\n      personService\n      .create(nameObject)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setNotificationMessage(\n          `Number for '${newName}' was successfully added`\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n    }\n    setPersons(persons)\n  }\n\n  const removeName = (id, name) => {\n    console.log(\"delete id\",id)\n    if (window.confirm(\"Do you really want to delete \" + name + \"?\")) {\n      personService.remove(id).then (() => {\n        setPersons(persons.map(person => person))\n        console.log(\"deleted\")\n        setNotificationMessage(\n          `Number of '${name}' was successfully deleted`\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setWarningMessage(\n          `Number of '${name}' has already been deleted`\n        )\n        setTimeout(() => {\n          setWarningMessage(null)\n        }, 5000)\n        setPersons(persons.filter(n => n.id !== id))\n      })\n\n    }\n    personService\n      .getAll()\n      .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }\n\n  const updateName = (id, name) => {\n    const person = persons.find(n => n.id === id)\n\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    console.log(event.target.value)\n    setSearchTerm(event.target.value)\n  }\n\n  const peopleToShow = persons.filter(person => person.name.toLowerCase().includes(searchTerm.toLowerCase()))\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} />\n      <Warning message={warningMessage} />\n      <PersonForm addName={addName}\n                  newName={newName}\n                  handleNameChange={handleNameChange}\n                  newNumber={newNumber}\n                  handleNumberChange={handleNumberChange} />\n      <Filter searchTerm={searchTerm} handleSearch={handleSearch} />\n      <h2>Numbers</h2>\n        <Persons people={peopleToShow} removeName={removeName}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}